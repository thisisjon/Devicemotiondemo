<!-- ~Credit and love to ~jasonteunissen.nl 
thanks for the stuff :)-->
<!-- ~twitter.com/nodinaus-->

<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width; initial-scale=1.0;"/>    
  <!-- le stylesheet -->
  <link rel="stylesheet" href="main.css" type="text/css" media="screen" />
  <!-- script -->
  <script src="http://code.jquery.com/jquery.js"></script>
  <title>Tilt this</title>
</head>

<body>  
  <div id="background">   
  <!-- Gradients -->
  <span class="gradientleft"></span>
  <span class="gradientright"></span>
  <span class="gradientmiddle"></span>

  <!-- Images -->
  <a class="triangle" href="http://www.justnod.me" target='_blank'></a>
  <a class="circle" href="http://bit.ly/1Hj9PiR" target='_blank'></a>
  <a class="square" href="http://www.justnod.me" target='_blank'></a>

  <!--
  <div id="logo"></div>
  -->

  <div class="leftmarg"></div>
    <div class="middle">
      <a id="text" href="http://www.justnod.me" target='_blank'><!--justnod.me--></a>
    </div> 
  </div>
    
<script>
$(document).ready(function(){

	//Browser
	$(document).mousemove(function(e){
	var pagew = $(window).width()
	var x = pagew*0.5 -(e.pageX);
	xx = x;

  console.log(x)

  var xm = 0; //xmiddle
  var xl = -x;
  
  var leftmarginwidth = Math.min(Math.min(15-xm +xl),40);
  var leftsidewidth = Math.min(Math.min(xl),15);
  var rightsidewidth = Math.min(Math.min(-xl),15);
  
  
  $(".leftmarg").css("width", leftmarginwidth);
  $(".leftside").css("width", leftsidewidth);
  $(".rightside").css("width", rightsidewidth);
  $(".rightmarg").css("width", 0);
  

  //Tilt Change gradient Body
  //Various ways to fade, however I found adding and removing classes was the cleanest method

  //GRADIENT RIGHT
  if(leftsidewidth >= '11' ) {
  $(".gradientmiddle").removeClass('fadein');
  $(".gradientmiddle").addClass('fadeout');
      $(".circle").removeClass('fadein');//IMAGE
      $(".circle").addClass('fadeout');//IMAGE
  $(".gradientleft").removeClass('fadein');
  $(".gradientleft").addClass('fadeout');
      $(".triangle").removeClass('fadein');//IMAGE
      $(".triangle").addClass('fadeout');//IMAGE
  $(".gradientright").addClass('fadein');
      $(".square").addClass('fadein');//IMAGE
  }

  //GRADIENT LEFT
  if(rightsidewidth >= '11') {        
  $(".gradientmiddle").removeClass('fadein');
  $(".gradientmiddle").addClass('fadeout');
      $(".circle").removeClass('fadein');//IMAGE
      $(".circle").addClass('fadeout');//IMAGE
  $(".gradientright").removeClass('fadein');
  $(".gradientright").addClass('fadeout');
      $(".square").removeClass('fadein');//IMAGE
      $(".square").addClass('fadeout');//IMAGE
  $(".gradientleft").addClass('fadein');
      $(".triangle").addClass('fadein');//IMAGE
  }

  //GRADIENT MIDDLE
  if(rightsidewidth < '11' && leftsidewidth < '11') {             
  $(".gradientleft").removeClass('fadein');
  $(".gradientleft").addClass('fadeout');
      $(".square").removeClass('fadein');//IMAGE
      $(".square").addClass('fadeout');//IMAGE
  $(".gradientright").removeClass('fadein');
  $(".gradientright").addClass('fadeout');
      $(".triangle").removeClass('fadein');//IMAGE
      $(".triangle").addClass('fadeout');//IMAGE
  $(".gradientmiddle").addClass('fadein');
      $(".circle").addClass('fadein');//IMAGE
  }
  });

  //Mobile/Tablet
  var xx = 0;
	window.ondevicemotion = function(event) {
  var orientation=window.orientation;
  var input = 0;
  switch(orientation)
  {
  case 0:
   input = event.accelerationIncludingGravity.x
   break;
  case 90:
   input = -event.accelerationIncludingGravity.y
   break;
  case -90:   
   input = event.accelerationIncludingGravity.y
   break;
  }
          
  var x = xx*0.6 + -0.4*(input*4);
  xx = x;         

  var xm = 0; //xmiddle
  var xl = -x;
  
  var leftmarginwidth = Math.min(Math.min(23 -xm +xl),40);
  var leftsidewidth = Math.min(Math.min(xl),15);
  var rightsidewidth = Math.min(Math.min(-xl),15);
  
  
  $(".leftmarg").css("width", leftmarginwidth);
  $(".leftside").css("width", leftsidewidth);
  $(".rightside").css("width", rightsidewidth);
  $(".rightmarg").css("width", 0);

  //TILT TO CHANGE GRADIENT/IMAGES
  //GRADIENT RIGHT
  if(leftsidewidth >= '11' ) {
  $(".gradientmiddle").removeClass('fadein');
  $(".gradientmiddle").addClass('fadeout');
      $(".circle").removeClass('fadein');//IMAGE
      $(".circle").addClass('fadeout');//IMAGE
  $(".gradientleft").removeClass('fadein');
  $(".gradientleft").addClass('fadeout');
      $(".triangle").removeClass('fadein');//IMAGE
      $(".triangle").addClass('fadeout');//IMAGE
  $(".gradientright").addClass('fadein');
      $(".square").addClass('fadein');//IMAGE
  }

  //GRADIENT LEFT
  if(rightsidewidth >= '11') {        
  $(".gradientmiddle").removeClass('fadein');
  $(".gradientmiddle").addClass('fadeout');
      $(".circle").removeClass('fadein');//IMAGE
      $(".circle").addClass('fadeout');//IMAGE
  $(".gradientright").removeClass('fadein');
  $(".gradientright").addClass('fadeout');
      $(".square").removeClass('fadein');//IMAGE
      $(".square").addClass('fadeout');//IMAGE
  $(".gradientleft").addClass('fadein');
      $(".triangle").addClass('fadein');//IMAGE
  }

  //GRADIENT MIDDLE
  if(rightsidewidth < '11' && leftsidewidth < '11') {             
  $(".gradientleft").removeClass('fadein');
  $(".gradientleft").addClass('fadeout');
      $(".square").removeClass('fadein');//IMAGE
      $(".square").addClass('fadeout');//IMAGE
  $(".gradientright").removeClass('fadein');
  $(".gradientright").addClass('fadeout');
      $(".triangle").removeClass('fadein');//IMAGE
      $(".triangle").addClass('fadeout');//IMAGE
  $(".gradientmiddle").addClass('fadein');
      $(".circle").addClass('fadein');//IMAGE
  }
  };  
  });
  
  //IF MOBILE
  if( /Android|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) {
  $('.triangle').css('width','35px');
  $('.circle').css('width','35px');
  $('.square').css('width','35px');
  }
</script>

</body>
</html>
<!-- Localized -->
